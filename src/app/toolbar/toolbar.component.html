<div class="container">
  <div class="title">
    <a href="/" class="title-a">Wave Simulation</a>
  </div>
  <!-- <div class="divider field-divider"></div> -->
  <div class="small-field-group">
    <div class="field-container">
      <button mat-icon-button aria-label="play" (click)="togglePause()">
        <mat-icon>{{parameters.pause ? 'play_arrow' : 'pause'}}</mat-icon>
      </button>
      <button mat-icon-button aria-label="restart" (click)="reset()">
        <mat-icon>restart_alt</mat-icon>
      </button>
      <button mat-icon-button aria-label="next" (click)="nextFrame()">
        <mat-icon>skip_next</mat-icon>
      </button>
    </div>
  </div>
  <div class="divider field-divider"></div>
  <div class="field-group">
    <div class="field-container">
      <div class="file-selects-container">
        <input hidden #backgroundInput type="file" accept="image/*" (change)="selectBackground(backgroundInput)">
        <div class="file-select-container" [matMenuTriggerFor]="backgroundMenu" (drop)="onDropBackground($event)" (dragover)="dragOverBackground($event)" (dragleave)="dragLeaveBackground($event)">
          <label class="file-select" [style.background] = "isHovering.background ? '#666' : 'inherit'">
            Background
            <div class="subtitle">{{backgroundName}}</div>
          </label>
          <mat-menu #backgroundMenu="matMenu">
            <button mat-menu-item [matMenuTriggerFor]="fileBackground">File</button>
            <button mat-menu-item [matMenuTriggerFor]="templateBackground">Templates</button>
          </mat-menu>
          <mat-menu #fileBackground="matMenu">
            <button mat-menu-item (click)="backgroundInput.click()">Open</button>
            <a href="assets/images/exemples/Background Exemple.png" download mat-menu-item>Download Exemple</a>
          </mat-menu>
          <mat-menu #templateBackground="matMenu">
            <button mat-menu-item (click)="resetBackground()">Lens <span style="color: #aaa">(default)</span></button>
            <button mat-menu-item (click)="setBackgroundTexture('assets/images/backgrounds/double slit.png', 'Double Slit')">Double Slit</button>
            <button mat-menu-item (click)="setBackgroundTexture('assets/images/backgrounds/parabolla.png', 'Parabolla')">Parabolla</button>
            <button mat-menu-item (click)="setBackgroundTexture('assets/images/backgrounds/fresnel lens.png', 'Parabolla')">Fresnel Lens</button>
          </mat-menu>
        </div>
        <input hidden #gradientInput type="file" accept="image/*" (change)="selectGradient(gradientInput)">
        <div class="file-select-container after-field" [matMenuTriggerFor]="gradientMenu" (drop)="onDropGradient($event)" (dragover)="dragOverGradient($event)" (dragleave)="dragLeaveGradient($event)">
          <label class="file-select" [style.background] = "isHovering.gradient ? '#666' : 'inherit'">
            Gradient
            <div class="subtitle">{{gradientName}}</div>
          </label>
          <mat-menu #gradientMenu="matMenu">
            <button mat-menu-item [matMenuTriggerFor]="fileGradient">File</button>
            <button mat-menu-item [matMenuTriggerFor]="templateGradient">Templates</button>
          </mat-menu>
          <mat-menu #fileGradient="matMenu">
            <button mat-menu-item (click)="gradientInput.click()">Open</button>
            <a href="assets/images/exemples/Gradient Exemple.png" download mat-menu-item>Download Exemple</a>
          </mat-menu>
          <mat-menu #templateGradient="matMenu">
            <button mat-menu-item (click)="resetGradient()">Blue White Red <span style="color: #aaa">(default)</span></button>
            <button mat-menu-item (click)="setGradientTexture('assets/images/gradients/plasma.png', 'Plasma')">Plasma</button>
            <button mat-menu-item (click)="setGradientTexture('assets/images/gradients/viridis.png', 'Viridis')">Viridis</button>
            <button mat-menu-item (click)="setGradientTexture('assets/images/gradients/heat.png', 'Heat')">Heat</button>
          </mat-menu>
        </div>
      </div>
    </div>
  </div>
  <div class="divider field-divider"></div>
  <div class="field-group">
    <div class="field-container checkbox-field">
      <div class="checkbox-container">
        <input #forceAspectRatio type="checkbox" [ngModel]="parameters.forceAspectRatio" (ngModelChange)="parameters.forceAspectRatio = $event; parametersChange.emit(parameters)">
        <label for="forceAspectRatio" class="after-label">Keep aspect ratio</label>
      </div>
    </div>
    <div class="radio-label field-container">Quality</div>
    <div class="field-container radio-container">
      <input type="radio" id="LODChoice1" name="LOD" [value]="1" [(ngModel)]="parameters.LOD" (change)="parametersChange.emit(parameters)">
      <label for="LODChoice1" class="before-label">High</label>

      <input type="radio" id="LODChoice2" name="LOD" [value]="2" [(ngModel)]="parameters.LOD" (change)="parametersChange.emit(parameters)">
      <label for="LODChoice2" class="before-label">Medium</label>
  
      <input type="radio" id="LODChoice3" name="LOD" [value]="2.8" [(ngModel)]="parameters.LOD" (change)="parametersChange.emit(parameters)">
      <label for="LODChoice3" class="before-label">Low</label>
    </div>
  </div>
  <div class="divider field-divider"></div>
    <div class="field-group">
    <div class="field-container checkbox-field">
      <div class="checkbox-container">
        <input #energy type="checkbox" (click)="toggleEnergy()">
        <label for="energy" class="after-label">Average energy</label>
      </div>
    </div>
    <div class="field-container radio-label">Boundary</div>
    <div class="field-container radio-container">
      <input type="radio" id="boundaryChoice1" name="boundary" [value]="0" [(ngModel)]="parameters.boundary" (change)="parametersChange.emit(parameters)">
      <label for="boundaryChoice1" class="before-label">Absorb</label>

      <input type="radio" id="boundaryChoice2" name="boundary" [value]="1" [(ngModel)]="parameters.boundary" (change)="parametersChange.emit(parameters)">
      <label for="boundaryChoice2" class="before-label">Reflect</label>

      <input type="radio" id="boundaryChoice3" name="boundary" [value]="2" [(ngModel)]="parameters.boundary" (change)="parametersChange.emit(parameters)">
      <label for="boundaryChoice3" class="before-label">Zero</label>
    </div>
  </div>
  <div class="divider field-divider"></div>
</div>